<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
                xmlns:h="http://xmlns.jcp.org/jsf/html" 
                xmlns:f="http://xmlns.jcp.org/jsf/core" 
                template="./layout/default.xhtml" 
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui">
    <ui:define name="content">
        <h:head>
            <title>PRISM Register an account</title>
            <h:outputStylesheet name="./css/style.css"/>
        </h:head>
        <div class="wrapper">
                <div class="container">

                    <h:form class="form-validation">
                        <h1 class="form-title-row">CREATE A NEW ACCOUNT</h1>

                        <p:growl id="messages" showDetail="true" />

                        <div class="form-row">
                            <p:inputText styleClass="textInput" title="6-12 alphanumeric without special characters"
                                         placeholder="username"
                                         id="username" value="#{registerBean.username}" 
                                         required="true" requiredMessage="Username required." 
                                         validatorMessage="Invalid format. Username must be between 6-12 letters/numbers. Special characters are not allowed.">
                                <f:validateRegex pattern="^[a-zA-Z0-9]{6,12}$" /> 
                            </p:inputText>

                            <p:password styleClass="textInput" 
                                        placeholder="password"
                                        title="6-12 characters"
                                        id="password" value="#{registerBean.password}" 
                                        feedback="true"
                                        validatorMessage="Invalid format. Password must be between 6-12 letters/numbers."
                                        required="true" requiredMessage="Password required." />

                            <p:inputText styleClass="textInput" 
                                         title="Please enter your full name"
                                         placeholder="name"
                                         id="name" value="#{registerBean.name}" 
                                         required="true" 
                                         requiredMessage="Name required." >
                            </p:inputText>                       

                            <p:inputText styleClass="textInput" 
                                         placeholder="email" 
                                         title="Please enter your email address"
                                         id="email" value="#{registerBean.email}" required="true" 
                                         requiredMessage="Email required."                                     
                                         validatorMessage="Email format is invalid.">
                            </p:inputText>

                            <p:inputText styleClass="textInput" 
                                         title="Please enter your contact number"
                                         placeholder="contact number"
                                         id="contact" value="#{registerBean.contactNum}" 
                                         required="true" requiredMessage="Contact number required." 
                                         validatorMessage="Invalid format. Contact number must be at least 8 digits">
                            </p:inputText>

                            <p:selectOneMenu style="padding: 0%; width: 300px" required="true" id="school" value="#{registerBean.school}" 
                                             editable="true" placeholder="school" requiredMessage="Please enter your school name or choose from the list">
                                <f:selectItem itemLabel="NUS" itemValue="NUS" />
                                <f:selectItem itemLabel="NTU" itemValue="NTU" />
                                <f:selectItem itemLabel="SMU" itemValue="SMU" />
                            </p:selectOneMenu>
                            <br/>
                            <p:selectOneButton styleClass="textInput" required="true" requiredMessage="Please select a user type" id="userType" value="#{registerBean.userType}">
                                <f:selectItem itemLabel="student" itemValue="1" />
                                <f:selectItem itemLabel="lecturer" itemValue="2" />
                                <f:selectItem itemLabel="guest" itemValue="3" />
                            </p:selectOneButton>

                            <br/>
                            <p:confirmDialog style="max-width: 40%; max-height:50%; overflow:auto"  widgetVar="termsdlg" global="true" showEffect="fade" hideEffect="fade" >
                                <h:outputText value="1. Terms:"/>
                                <br/>
                                <h:outputText value="By accessing the website, you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site. The materials contained in this website are protected by applicable copyright and trademark law." />
                                <br/><br/>
                                <h:outputText value="2. Disclaimer:"/>
                                <br/>
                                <h:outputText value="The materials on PRISM's website are provided on an 'as is' basis. PRISM makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."/>
                                <br/><br/>
                                <h:outputText value="3. Limitations"/>
                                <br/>
                                <h:outputText value="In no event shall PRISM or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on PRISM's website, even if PRISM or a PRISM authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you."/>
                                <br/><br/>
                                <h:outputText value="4. Modifications"/>
                                <br/>
                                <h:outputText value="PRISM may revise these terms of service for its website at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service."/>
                                <br/><br/>
                                <h:outputText value="5. Governing Law"/>
                                <br/>
                                <h:outputText value="These terms and conditions are governed by and construed in accordance with the laws of Singapore and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location."/>
                            </p:confirmDialog>

                            <p:commandButton styleClass="termsBtn" ajax="false" value="Terms &amp; Conditions">
                                <p:confirm  message="Terms &amp; Conditions" icon="ui-icon-alert" />
                            </p:commandButton>

                            <h:panelGrid styleClass="form-title-row" columns="2" style="margin: auto">
                                <h:outputText value="I agree to the terms &amp; conditions"></h:outputText>
                                <p:selectBooleanCheckbox value="#{registerBean.agree}" id="terms" required="true" requiredMessage="You must agree to our Terms &amp; Conditions" >
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </div>

                        <div class="form-row">
                            <p:commandButton update="@form" value="REGISTER" actionListener="#{registerBean.register}" />
                            <br/>
                            <p:commandButton update="messages" process="@this" action="#{registerBean.doBack}" id="backButton" value="BACK TO LOGIN" />
                        </div>

                        <!--tool tips-->
                        <p:tooltip id="toolTipUser" for="username" showEvent="focus" hideEvent="blur" position="left" showEffect="clip" />
                        <p:tooltip id="toolTipPass" for="password" showEvent="focus" hideEvent="blur" position="left" showEffect="clip"/>
                        <p:tooltip id="toolTipEmail" for="email" showEvent="focus" hideEvent="blur" position="left" showEffect="clip"/>
                        <p:tooltip id="toolTipName" for="name" showEvent="focus" hideEvent="blur" position="left" showEffect="clip"/>
                        <p:tooltip id="toolTipNum" for="contact" showEvent="focus" hideEvent="blur" position="left" showEffect="clip"/>
                    </h:form>
                </div>
            <ul class="bg-bubbles"><li/><li/><li/><li/><li/><li/><li/><li/></ul>
            </div>
        
    </ui:define>
</ui:composition>



<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
       template="/WEB-INF/template.xhtml"
       xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <h:head>
            <title>PRISM Student Community Page</title>
        </h:head>
        
        <div class="ui-g">
            <div class="ui-g-12">
                <div class="card">
                    <h1>FOR TESTING ONLY, CAN REUSE THEM FOR FRONTEND IF POSSIBLE</h1>
                    <!-- BUTTONS FOR TESTING BACKEND -->
                    <h:form>
                        <p:inputText title="Title" placeholder="Title" id="title" value="#{communityBean.tTitle}" > </p:inputText>   
                        <p:inputText title="Content" placeholder="Content" id="content" value="#{communityBean.tContent}" > </p:inputText> 
                        <p:inputText title="Tag" placeholder="Tag" id="tag" value="#{communityBean.tTag}" > </p:inputText> 
                        <h:commandButton value="Create Thread" actionListener="#{communityBean.startThread}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ThreadId" placeholder="ThreadId" id="threadid" value="#{communityBean.tId}" > </p:inputText>   
                        <p:inputText title="Content" placeholder="Content" id="content" value="#{communityBean.rContent}" > </p:inputText> 
                        <h:commandButton value="Create Reply" actionListener="#{communityBean.enterReply}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ThreadId" placeholder="ThreadId" id="threadid" value="#{communityBean.tId}" > </p:inputText>   
                        <p:selectOneButton styleClass="textInput" required="true" id="voteType" value="#{communityBean.voteType}" >
                            <f:selectItem itemLabel="Upvote" itemValue="true" />
                            <f:selectItem itemLabel="Downvote" itemValue="false" />
                        </p:selectOneButton>
                        <h:commandButton value="Vote Thread" actionListener="#{communityBean.enterVote(true)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ReplyId" placeholder="ReplyId" id="replyid" value="#{communityBean.rId}" > </p:inputText>   
                        <p:selectOneButton styleClass="textInput" required="true" id="voteType" value="#{communityBean.voteType}" >
                            <f:selectItem itemLabel="Upvote" itemValue="true" />
                            <f:selectItem itemLabel="Downvote" itemValue="false" />
                        </p:selectOneButton>
                        <h:commandButton value="Vote Reply" actionListener="#{communityBean.enterVote(false)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ThreadId" placeholder="ThreadId" id="threadid" value="#{communityBean.tId}" > </p:inputText>   
                        <h:commandButton value="Unvote Thread" actionListener="#{communityBean.unvote(communityBean.tId, 0, true)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ReplyId" placeholder="ReplyId" id="replyid" value="#{communityBean.rId}" > </p:inputText>   
                        <h:commandButton value="Unvote Reply" actionListener="#{communityBean.unvote(0, communityBean.rId, false)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ThreadId" placeholder="ThreadId" id="threadid" value="#{communityBean.tId}" > </p:inputText>   
                        <p:inputText title="Title" placeholder="Title" id="title" value="#{communityBean.tTitle}" > </p:inputText>   
                        <p:inputText title="Content" placeholder="Content" id="content" value="#{communityBean.tContent}" > </p:inputText> 
                        <p:inputText title="Tag" placeholder="Tag" id="tag" value="#{communityBean.tTag}" > </p:inputText> 
                        <h:commandButton value="Modify Thread" actionListener="#{communityBean.modifyThread(
                                                 communityBean.tId, communityBean.tContent, communityBean.tTitle, communityBean.tTag)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ReplyId" placeholder="ReplyId" id="replyid" value="#{communityBean.rId}" > </p:inputText>   
                        <p:inputText title="Content" placeholder="Content" id="content" value="#{communityBean.rContent}" > </p:inputText> 
                        <h:commandButton value="Modify Reply" actionListener="#{communityBean.modifyReply(communityBean.rId, communityBean.rContent)}" />
                    </h:form>

                    <h:form>
                        <p:inputText title="ThreadId" placeholder="ThreadId" id="threadid" value="#{communityBean.tId}" > </p:inputText>   
                        <h:commandButton value="Delete Thread" actionListener="#{communityBean.removeThread()}" />
                    </h:form> 

                    <h:form>
                        <p:inputText title="ReplyId" placeholder="ReplyId" id="replyid" value="#{communityBean.rId}" > </p:inputText>   
                        <h:commandButton value="Delete Reply" actionListener="#{communityBean.removeReply()}" />
                    </h:form>

                    <h:form>
                        <h:commandButton value="Test entity" actionListener="#{communityBean.test()}" />
                    </h:form>
                    <!-- TEST CODE STOPS HERE -->
                </div>
            </div>
        </div>
        
        

    </ui:define>
</ui:composition>